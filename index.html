<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnonsenSocial</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1d4ed8;
            --background-color: white;
            --text-color: #2563eb;
            --border-color: #e5e7eb;
            --card-bg: white;
            --sidebar-bg: #2563eb;
        }

        [data-theme="dark"] {
            --primary-color: #3b82f6;
            --secondary-color: #2563eb;
            --background-color: #1a1a1a;
            --text-color: #e5e7eb;
            --border-color: #374151;
            --card-bg: #2d2d2d;
            --sidebar-bg: #374151;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--background-color);
            color: var(--text-color);
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        /* Icons */
        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 8px;
            vertical-align: middle;
        }

        .icon-large {
            width: 28px;
            height: 28px;
        }

        .icon-home::before { content: 'üè†'; }
        .icon-money::before { content: 'üí∞'; }
        .icon-handshake::before { content: 'ü§ù'; }
        .icon-user::before { content: 'üë§'; }
        .icon-settings::before { content: '‚öôÔ∏è'; }
        .icon-chat::before { content: 'üí¨'; }
        .icon-ai::before { content: 'ü§ñ'; }
        .icon-video::before { content: 'üé•'; }
        .icon-mobile::before { content: 'üì±'; }
        .icon-moon::before { content: 'üåô'; }
        .icon-bell::before { content: 'üîî'; }
        .icon-play::before { content: '‚ñ∂Ô∏è'; }
        .icon-data::before { content: 'üìä'; }
        .icon-location::before { content: 'üìç'; }
        .icon-lock::before { content: 'üîí'; }
        .icon-globe::before { content: 'üåç'; }
        .icon-refresh::before { content: 'üîÑ'; }
        .icon-upload::before { content: 'üì§'; }
        .icon-create::before { content: '‚ûï'; }
        .icon-live::before { content: 'üî¥'; }
        .icon-shorts::before { content: 'üì±'; }
        .icon-community::before { content: 'üë•'; }
        .icon-analytics::before { content: 'üìà'; }
        .icon-tools::before { content: 'üõ†Ô∏è'; }

        /* Header */
        .header {
            background: var(--sidebar-bg);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(37, 99, 235, 0.3);
        }

        .menu-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 0;
            width: 300px;
            height: 100vh;
            background: var(--sidebar-bg);
            transition: left 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .sidebar-item {
            padding: 15px 20px;
            color: white;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 0.3s;
            display: flex;
            align-items: center;
        }

        .sidebar-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .sidebar-bottom {
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        /* Main Content */
        .main-content {
            margin-top: 70px;
            min-height: calc(100vh - 140px);
            padding: 20px;
            padding-bottom: 80px;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .search-bar {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 30px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--primary-color);
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            background: var(--card-bg);
            color: var(--text-color);
        }

        .search-input:focus {
            box-shadow: 0 0 10px rgba(37, 99, 235, 0.3);
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .video-card {
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.2);
        }

        .video-thumbnail {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--primary-color);
            position: relative;
        }

        .video-info {
            padding: 15px;
        }

        .video-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .video-meta {
            font-size: 14px;
            color: #6b7280;
        }

        .short-indicator {
            background: var(--primary-color);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 5px;
        }

        .load-more {
            text-align: center;
            margin: 30px 0;
        }

        .load-more-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .load-more-btn:hover {
            background: var(--secondary-color);
        }

        .content-message {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            color: var(--text-color);
            font-size: 18px;
        }

        /* Footer */
        .footer {
            background: var(--sidebar-bg);
            color: white;
            padding: 15px 20px;
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            z-index: 999;
        }

        .footer-icon {
            font-size: 28px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .footer-icon:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Channel Creation Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-content {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            color: var(--text-color);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--text-color);
            font-size: 16px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            outline: none;
            font-size: 16px;
            background: var(--card-bg);
            color: var(--text-color);
        }

        .form-textarea {
            height: 100px;
            resize: vertical;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            box-shadow: 0 0 8px rgba(37, 99, 235, 0.3);
        }

        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 15px;
            font-size: 16px;
            transition: background 0.3s;
        }

        .btn:hover {
            background: var(--secondary-color);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Upload Interface */
        .upload-section {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .upload-card {
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
        }

        .drop-zone {
            border: 3px dashed var(--primary-color);
            border-radius: 15px;
            padding: 60px;
            margin: 20px 0;
            background: rgba(37, 99, 235, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .drop-zone:hover {
            background: rgba(37, 99, 235, 0.1);
        }

        .drop-zone.dragover {
            background: rgba(37, 99, 235, 0.2);
            border-color: var(--secondary-color);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            display: none;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Partner Program Page */
        .partner-content {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
        }

        .partner-hero {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 60px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 40px;
        }

        .partner-hero h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .partner-hero p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .partner-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .benefit-card {
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.2);
        }

        .benefit-icon {
            font-size: 50px;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .benefit-card h3 {
            color: var(--text-color);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .benefit-card p {
            color: #6b7280;
            line-height: 1.6;
        }

        .requirements-section {
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .requirements-list {
            list-style: none;
            padding: 0;
        }

        .requirements-list li {
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
        }

        .requirements-list li::before {
            content: '‚úì';
            color: #10b981;
            font-weight: bold;
            margin-right: 15px;
            font-size: 18px;
        }

        .faq-section {
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .faq-item {
            margin-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 20px;
        }

        .faq-question {
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .faq-answer {
            color: #6b7280;
            line-height: 1.6;
            display: none;
            padding-top: 10px;
        }

        .faq-answer.show {
            display: block;
        }

        /* Finance Page */
        .finance-content {
            display: none;
            text-align: center;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
            padding-bottom: 20px;
        }

        .budget-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 30px auto;
            flex-wrap: wrap;
        }

        .budget-circle {
            width: 350px;
            height: 350px;
            border-radius: 50%;
            border: 12px solid var(--primary-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(37, 99, 235, 0.05));
        }

        .budget-amount {
            font-size: 20px;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .budget-input {
            margin: 10px 0;
            padding: 10px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            width: 150px;
            background: var(--card-bg);
            color: var(--text-color);
        }

        .budget-status {
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
        }

        .refresh-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .refresh-btn:hover {
            background: var(--secondary-color);
        }

        .finance-sections {
            display: flex;
            justify-content: space-around;
            margin-top: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .finance-section {
            flex: 1;
            min-width: 350px;
            margin: 10px;
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .section-title {
            font-size: 22px;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .finance-item {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .finance-input {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            font-size: 14px;
            background: var(--card-bg);
            color: var(--text-color);
        }

        .add-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
        }

        .remove-btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            min-width: 40px;
        }

        /* Profile Page */
        .profile-content {
            display: none;
            max-width: 700px;
            margin: 0 auto;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .profile-section {
            background: var(--card-bg);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.1);
        }

        .profile-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 4px solid var(--primary-color);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            color: var(--primary-color);
            overflow: hidden;
        }

        .guest-indicator {
            background: #f59e0b;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 14px;
            margin-bottom: 15px;
            display: inline-block;
        }

        /* Settings Page */
        .settings-content {
            display: none;
            max-width: 700px;
            margin: 0 auto;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            font-size: 16px;
        }

        .setting-label {
            display: flex;
            align-items: center;
            color: var(--text-color);
        }

        .toggle {
            width: 60px;
            height: 30px;
            background: var(--border-color);
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle.active {
            background: var(--primary-color);
        }

        .toggle::before {
            content: '';
            position: absolute;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle.active::before {
            transform: translateX(30px);
        }

        /* Chat Windows */
        .chat-window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--background-color);
            z-index: 2000;
            display: none;
            flex-direction: column;
        }

        .chat-header {
            background: var(--sidebar-bg);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--background-color);
            max-height: calc(100vh - 200px);
        }

        .chat-footer {
            background: var(--sidebar-bg);
            padding: 15px 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            outline: none;
            font-size: 16px;
        }

        .chat-send-btn {
            background: white;
            color: var(--primary-color);
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        .chat-back-btn {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: #dc2626;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        .ai-message, .user-message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 70%;
            line-height: 1.5;
        }

        .ai-message {
            background: rgba(37, 99, 235, 0.1);
            color: var(--text-color);
            margin-right: auto;
        }

        .user-message {
            background: var(--primary-color);
            color: white;
            margin-left: auto;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 3000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .video-grid {
                grid-template-columns: 1fr;
            }
            
            .finance-sections {
                flex-direction: column;
            }
            
            .budget-circle {
                width: 280px;
                height: 280px;
            }

            .footer {
                gap: 20px;
            }

            .footer-icon {
                font-size: 24px;
                padding: 8px;
            }

            .finance-section {
                min-width: unset;
            }

            .budget-container {
                flex-direction: column;
            }

            .partner-benefits {
                grid-template-columns: 1fr;
            }

            .partner-hero {
                padding: 40px 20px;
            }

            .partner-hero h1 {
                font-size: 2em;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }

            .budget-circle {
                width: 250px;
                height: 250px;
            }

            .profile-section {
                padding: 20px;
            }

            .modal-content {
                padding: 20px;
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Header -->
    <div class="header">
        <button class="menu-btn" id="menuBtn">‚ò∞</button>
        <div class="logo" id="pageTitle">AnonsenSocial</div>
    </div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">AnonsenSocial</div>
        </div>
        <div class="sidebar-item" onclick="switchPage('social')">
            <span class="icon icon-home"></span>AnonsenSocial
        </div>
        <div class="sidebar-item" onclick="switchPage('finance')">
            <span class="icon icon-money"></span>AnonsenFinance
        </div>
        <div class="sidebar-item" onclick="switchPage('partner')">
            <span class="icon icon-handshake"></span>Partnerprogramm
        </div>
        <div class="sidebar-item" onclick="openChannelCreation()">
            <span class="icon icon-create"></span>Kanal erstellen
        </div>
        <div class="sidebar-item" onclick="openUploadInterface()">
            <span class="icon icon-upload"></span>Upload
        </div>
        <div class="sidebar-bottom">
            <div class="sidebar-item" onclick="switchPage('profile')">
                <span class="icon icon-user"></span>Profil
            </div>
            <div class="sidebar-item" onclick="switchPage('settings')">
                <span class="icon icon-settings"></span>Einstellungen
            </div>
        </div>
    </div>

    <!-- Channel Creation Modal -->
    <div class="modal" id="channelModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Neuen Kanal erstellen</h2>
                <button class="close-btn" onclick="closeChannelCreation()">&times;</button>
            </div>
            <form id="channelForm">
                <div class="form-group">
                    <label class="form-label">Kanalbild</label>
                    <input type="file" class="form-input" accept="image/*" id="channelPicture" onchange="previewChannelImage(this, 'channelPicturePreview')">
                    <div id="channelPicturePreview" style="width: 100px; height: 100px; border-radius: 50%; background: #e5e7eb; margin: 10px 0; display: flex; align-items: center; justify-content: center;">
                        <span class="icon icon-user" style="font-size: 40px; color: #9ca3af;"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Kanalbanner</label>
                    <input type="file" class="form-input" accept="image/*" id="channelBanner" onchange="previewChannelImage(this, 'channelBannerPreview')">
                    <div id="channelBannerPreview" style="width: 100%; height: 100px; background: #e5e7eb; margin: 10px 0; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                        <span class="icon icon-video" style="font-size: 40px; color: #9ca3af;"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Kanalname</label>
                    <input type="text" class="form-input" id="channelName" placeholder="Dein Kanalname" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Kanalbeschreibung</label>
                    <textarea class="form-textarea" id="channelDescription" placeholder="Beschreibe deinen Kanal und deine Inhalte..." required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Kategorie</label>
                    <select class="form-select" id="channelCategory" required>
                        <option value="">Kategorie ausw√§hlen</option>
                        <option value="gaming">Gaming</option>
                        <option value="education">Bildung</option>
                        <option value="entertainment">Unterhaltung</option>
                        <option value="music">Musik</option>
                        <option value="sports">Sport</option>
                        <option value="technology">Technologie</option>
                        <option value="lifestyle">Lifestyle</option>
                        <option value="cooking">Kochen</option>
                        <option value="travel">Reisen</option>
                        <option value="diy">DIY & Handwerk</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Datenschutz</label>
                    <select class="form-select" id="channelPrivacy">
                        <option value="public">√ñffentlich</option>
                        <option value="unlisted">Nicht gelistet</option>
                        <option value="private">Privat</option>
                    </select>
                </div>
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="termsAccepted" required style="margin-right: 10px;">
                        Ich akzeptiere die <a href="#" style="color: var(--primary-color);">Nutzungsbedingungen</a> und <a href="#" style="color: var(--primary-color);">Community-Richtlinien</a>
                    </label>
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <button type="submit" class="btn">Kanal erstellen</button>
                    <button type="button" class="btn-secondary" onclick="closeChannelCreation()">Abbrechen</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Upload Interface Modal -->
    <div class="modal" id="uploadModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2>Content hochladen</h2>
                <button class="close-btn" onclick="closeUploadInterface()">&times;</button>
            </div>
            
            <div style="display: flex; gap: 10px; margin-bottom: 20px; justify-content: center;">
                <button class="btn" id="videoUploadTab" onclick="switchUploadTab('video')">Video</button>
                <button class="btn-secondary" id="shortUploadTab" onclick="switchUploadTab('short')">Short</button>
                <button class="btn-secondary" id="liveUploadTab" onclick="switchUploadTab('live')">Live Stream</button>
            </div>

            <div id="videoUploadContent">
                <div class="drop-zone" id="videoDropZone" onclick="document.getElementById('videoFile').click()">
                    <h3>Video hochladen</h3>
                    <p>Datei hier hinziehen oder klicken zum Ausw√§hlen</p>
                    <p style="font-size: 14px; color: #6b7280; margin-top: 10px;">Unterst√ºtzte Formate: MP4, MOV, AVI (Max. 2GB)</p>
                </div>
                <input type="file" id="videoFile" accept="video/*" style="display: none;" onchange="handleFileUpload(this, 'video')">
                
                <div id="videoUploadForm" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Titel</label>
                        <input type="text" class="form-input" id="videoTitle" placeholder="Video-Titel">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Beschreibung</label>
                        <textarea class="form-textarea" id="videoDescription" placeholder="Beschreibung deines Videos..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tags (durch Komma getrennt)</label>
                        <input type="text" class="form-input" id="videoTags" placeholder="gaming, tutorial, deutsch">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thumbnail</label>
                        <input type="file" class="form-input" accept="image/*" id="videoThumbnail" onchange="previewThumbnail(this)">
                        <div id="thumbnailPreview" style="margin: 10px 0;"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sichtbarkeit</label>
                        <select class="form-select" id="videoPrivacy">
                            <option value="public">√ñffentlich</option>
                            <option value="unlisted">Nicht gelistet</option>
                            <option value="private">Privat</option>
                        </select>
                    </div>
                    <div class="form-group" id="monetizationOptions" style="display: none;">
                        <label class="form-label">Monetarisierung (Partner-Programm)</label>
                        <div style="display: flex; gap: 15px;">
                            <label><input type="checkbox" id="prerollAds"> Pre-Roll Ads</label>
                            <label><input type="checkbox" id="midrollAds"> Mid-Roll Ads</label>
                            <label><input type="checkbox" id="postrollAds"> Post-Roll Ads</label>
                        </div>
                    </div>
                    <div class="progress-bar" id="uploadProgress">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" onclick="startUpload('video')">Video hochladen</button>
                        <button class="btn-secondary" onclick="cancelUpload()">Abbrechen</button>
                    </div>
                </div>
            </div>

            <div id="shortUploadContent" style="display: none;">
                <div class="drop-zone" id="shortDropZone" onclick="document.getElementById('shortFile').click()">
                    <h3>Short hochladen</h3>
                    <p>Vertikales Video (9:16) bis 60 Sekunden</p>
                    <p style="font-size: 14px; color: #6b7280; margin-top: 10px;">Unterst√ºtzte Formate: MP4, MOV (Max. 500MB)</p>
                </div>
                <input type="file" id="shortFile" accept="video/*" style="display: none;" onchange="handleFileUpload(this, 'short')">
                
                <div id="shortUploadForm" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Titel</label>
                        <input type="text" class="form-input" id="shortTitle" placeholder="Short-Titel (max. 100 Zeichen)">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Hashtags</label>
                        <input type="text" class="form-input" id="shortHashtags" placeholder="#trending #viral #deutsch">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sichtbarkeit</label>
                        <select class="form-select" id="shortPrivacy">
                            <option value="public">√ñffentlich</option>
                            <option value="unlisted">Nicht gelistet</option>
                            <option value="private">Privat</option>
                        </select>
                    </div>
                    <div class="progress-bar" id="shortUploadProgress">
                        <div class="progress-fill" id="shortProgressFill"></div>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" onclick="startUpload('short')">Short hochladen</button>
                        <button class="btn-secondary" onclick="cancelUpload()">Abbrechen</button>
                    </div>
                </div>
            </div>

            <div id="liveUploadContent" style="display: none;">
                <div style="text-align: center; padding: 40px;">
                    <span class="icon icon-live" style="font-size: 60px; color: #dc2626;"></span>
                    <h3>Live Streaming</h3>
                    <p style="margin: 20px 0; color: #6b7280;">Live Streaming ist verf√ºgbar f√ºr Partner-Programm Mitglieder</p>
                    <div class="form-group">
                        <label class="form-label">Stream-Titel</label>
                        <input type="text" class="form-input" id="streamTitle" placeholder="Live Stream Titel">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Kategorie</label>
                        <select class="form-select" id="streamCategory">
                            <option value="gaming">Gaming</option>
                            <option value="chat">Just Chatting</option>
                            <option value="music">Musik</option>
                            <option value="education">Bildung</option>
                            <option value="other">Sonstiges</option>
                        </select>
                    </div>
                    <button class="btn" onclick="startLiveStream()" disabled id="goLiveBtn">Live gehen</button>
                    <p style="font-size: 14px; color: #6b7280; margin-top: 10px;">Streaming-Software: OBS, XSplit oder √§hnliche</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Social Media Page -->
        <div id="socialContent">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Suche nach Videos, Shorts, Kan√§len..." id="searchInput">
            </div>

            <div id="videoContainer">
                <div class="content-message" id="contentMessage">
                    <h3>Willkommen bei AnonsenSocial!</h3>
                    <p>Hier werden die besten Videos und Shorts angezeigt.<br>
                    Schauen Sie Videos an und suchen Sie nach Inhalten, damit wir Ihnen personalisierte Empfehlungen zeigen k√∂nnen.</p>
                    <div style="margin-top: 20px;">
                        <button class="btn" onclick="openChannelCreation()">Ersten Kanal erstellen</button>
                        <button class="btn-secondary" onclick="loadBestVideos()">Inhalte entdecken</button>
                    </div>
                </div>

                <div class="video-grid" id="videoGrid">
                    <!-- Videos werden hier dynamisch geladen -->
                </div>

                <div class="load-more">
                    <button class="load-more-btn" onclick="loadMoreVideos()" id="loadMoreBtn">Weitere Videos laden</button>
                </div>
            </div>
        </div>

        <!-- Finance Page -->
        <div id="financeContent" class="finance-content">
            <div class="budget-container">
                <div class="budget-circle">
                    <div class="budget-amount">Gesamtbudget</div>
                    <input type="number" class="budget-input" id="budgetInput" placeholder="‚Ç¨ 0" value="1000">
                    <div class="budget-status" id="budgetStatus">Im Budget</div>
                </div>
                <button class="refresh-btn" onclick="forceUpdateBudget()" title="Budget aktualisieren">
                    <span class="icon icon-refresh"></span>
                </button>
            </div>

            <div class="finance-sections">
                <div class="finance-section">
                    <div class="section-title">
                        <span class="icon icon-money"></span>Einnahmen
                    </div>
                    <div id="incomeList">
                        <div class="finance-item">
                            <input type="text" class="finance-input" placeholder="Beschreibung" value="Gehalt">
                            <input type="number" class="finance-input" placeholder="Betrag" value="2500">
                            <button class="remove-btn" onclick="removeFinanceItem(this)">‚úï</button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addFinanceItem('income')">+ Einnahme hinzuf√ºgen</button>
                </div>

                <div class="finance-section">
                    <div class="section-title">
                        <span class="icon icon-money"></span>Ausgaben
                    </div>
                    <div id="expenseList">
                        <div class="finance-item">
                            <input type="text" class="finance-input" placeholder="Beschreibung" value="Miete">
                            <input type="number" class="finance-input" placeholder="Betrag" value="800">
                            <button class="remove-btn" onclick="removeFinanceItem(this)">‚úï</button>
                        </div>
                        <div class="finance-item">
                            <input type="text" class="finance-input" placeholder="Beschreibung" value="Lebensmittel">
                            <input type="number" class="finance-input" placeholder="Betrag" value="300">
                            <button class="remove-btn" onclick="removeFinanceItem(this)">‚úï</button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addFinanceItem('expense')">+ Ausgabe hinzuf√ºgen</button>
                </div>
            </div>
        </div>

        <!-- Partner Program Page -->
        <div id="partnerContent" class="partner-content">
            <div class="partner-hero">
                <h1><span class="icon icon-handshake icon-large"></span> Anonsen Partnerprogramm</h1>
                <p>Werde Teil unserer Creator-Community und monetarisiere deine Inhalte erfolgreich</p>
            </div>

            <div class="partner-benefits">
                <div class="benefit-card">
                    <div class="benefit-icon"><span class="icon icon-money"></span></div>
                    <h3>Monetarisierung</h3>
                    <p>Verdiene durch Werbeanzeigen, Sponsorings und Premium-Funktionen. Bis zu 70% Revenue-Share f√ºr qualifizierte Partner.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon"><span class="icon icon-analytics"></span></div>
                    <h3>Creator Dashboard</h3>
                    <p>Detaillierte Analysen, Einnahmenberichte, Zuschauer-Demographics und Performance-Metriken in Echtzeit.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon"><span class="icon icon-tools"></span></div>
                    <h3>Exklusive Tools</h3>
                    <p>Erweiterte Upload-Optionen, Custom Thumbnails, Live-Streaming und professionelle Content-Management-Tools.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon"><span class="icon icon-community"></span></div>
                    <h3>Community Support</h3>
                    <p>Direkter Kontakt zum Creator-Support-Team, Partner-Events und Networking-M√∂glichkeiten mit anderen Creators.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon"><span class="icon icon-live"></span></div>
                    <h3>Live Streaming</h3>
                    <p>Unbegrenzte Live-Stream-Dauer, Multi-Stream-Funktionen und erweiterte Interaktions-Tools f√ºr deine Community.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üéØ</div>
                    <h3>Marketing Support</h3>
                    <p>Featuring auf der Startseite, Cross-Promotion mit anderen Partnern und dedizierte Marketing-Unterst√ºtzung.</p>
                </div>
            </div>

            <div class="requirements-section">
                <h2 style="text-align: center; margin-bottom: 30px; color: var(--text-color);">Voraussetzungen f√ºr das Partnerprogramm</h2>
                <ul class="requirements-list">
                    <li>Verifizierter Account mit g√ºltiger E-Mail und Telefonnummer</li>
                    <li>Mindestens 10 hochgeladene Videos oder 50 Shorts in den letzten 90 Tagen</li>
                    <li>Mindestens 1.000 Aufrufe in den letzten 30 Tagen</li>
                    <li>Mindestens 100 Abonnenten</li>
                    <li>Einhaltung aller Community-Richtlinien ohne Verst√∂√üe</li>
                    <li>Content muss original und urheberrechtlich unbedenklich sein</li>
                    <li>Regelm√§√üige Upload-Aktivit√§t (mindestens 1 Video pro Woche)</li>
                    <li>Mindestalter 18 Jahre oder Zustimmung der Erziehungsberechtigten</li>
                </ul>
            </div>

            <div class="faq-section">
                <h2 style="text-align: center; margin-bottom: 30px; color: var(--text-color);">H√§ufig gestellte Fragen</h2>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Wie viel kann ich verdienen? <span>+</span>
                    </div>
                    <div class="faq-answer">
                        Die Einnahmen variieren je nach Aufrufen, Engagement und Werbeformaten. Partner erhalten 70% der Werbeeinnahmen. Erfolgreiche Creator k√∂nnen zwischen 100‚Ç¨ bis 10.000‚Ç¨+ pro Monat verdienen, abh√§ngig von ihrer Reichweite und Content-Qualit√§t.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Wie lange dauert die Bewerbung? <span>+</span>
                    </div>
                    <div class="faq-answer">
                        Die Pr√ºfung deiner Bewerbung dauert normalerweise 5-10 Werktage. Du erh√§ltst eine E-Mail-Benachrichtigung √ºber den Status deiner Bewerbung. Bei R√ºckfragen kannst du dich jederzeit an unser Support-Team wenden.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Welche Zahlungsmethoden werden unterst√ºtzt? <span>+</span>
                    </div>
                    <div class="faq-answer">
                        Wir unterst√ºtzen Bank√ºberweisungen (SEPA), PayPal und verschiedene digitale Wallets. Auszahlungen erfolgen monatlich bei einem Mindestbetrag von 50‚Ç¨. Alle Steuerdokumente werden automatisch generiert.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Kann ich meine Partnerschaft verlieren? <span>+</span>
                    </div>
                    <div class="faq-answer">
                        Ja, bei wiederholten Verst√∂√üen gegen die Community-Richtlinien, l√§ngerer Inaktivit√§t (mehr als 90 Tage ohne Upload) oder bei Unterschreitung der Mindestanforderungen kann die Partnerschaft beendet werden. Du wirst jedoch vorher gewarnt.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Gibt es Support f√ºr neue Partner? <span>+</span>
                    </div>
                    <div class="faq-answer">
                        Ja! Neue Partner erhalten ein Welcome-Package mit Tutorials, direkten Zugang zu unserem Creator-Support-Team und Einladungen zu exklusiven Webinaren und Events. Zudem gibt es eine private Community f√ºr Partner.
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin: 40px 0;">
                <button class="btn" onclick="applyPartnerProgram()" style="font-size: 18px; padding: 15px 40px;">Jetzt bewerben</button>
                <button class="btn-secondary" onclick="showPartnerDetails()" style="font-size: 16px; padding: 12px 30px;">Mehr erfahren</button>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profileContent" class="profile-content">
            <div class="profile-section">
                <div class="guest-indicator" id="guestIndicator">
                    <span class="icon icon-user"></span>Gast-Modus
                </div>
                <div class="profile-image" id="profileImage">
                    <span class="icon icon-user" style="font-size: 60px; margin: 0;"></span>
                </div>
                <div class="form-group">
                    <label class="form-label">Profilbild</label>
                    <input type="file" class="form-input" accept="image/*" onchange="handleProfileImage(this)">
                    <button class="btn-secondary" style="margin-top: 10px;">Aus Galerie w√§hlen</button>
                </div>
            </div>

            <div class="profile-section">
                <div class="form-group">
                    <label class="form-label">Benutzername</label>
                    <input type="text" class="form-input" id="username" placeholder="Dein Benutzername" value="Gast">
                </div>
                <div class="form-group">
                    <label class="form-label">E-Mail-Anbieter</label>
                    <select class="form-select" id="emailProvider">
                        <option value="gmail">Gmail</option>
                        <option value="yahoo">Yahoo</option>
                        <option value="outlook">Outlook</option>
                        <option value="custom">Individuell</option>
                    </select>
                    <input type="email" class="form-input" id="email" placeholder="deine@email.com" style="margin-top: 10px;">
                </div>
                <div class="form-group">
                    <label class="form-label">Passwort</label>
                    <input type="password" class="form-input" id="password" placeholder="Mindestens 6 Zeichen">
                </div>
                <button class="btn" onclick="saveProfile()">Profil speichern</button>
                <button class="btn-secondary">Abbrechen</button>
            </div>
        </div>

        <!-- Settings Page -->
        <div id="settingsContent" class="settings-content">
            <div class="profile-section">
                <div class="section-title">
                    <span class="icon icon-settings"></span>Einstellungen
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-moon"></span>Dunkler Modus
                    </div>
                    <div class="toggle" onclick="toggleDarkMode(this)"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-bell"></span>Benachrichtigungen
                    </div>
                    <div class="toggle active" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-play"></span>Automatische Wiedergabe
                    </div>
                    <div class="toggle active" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-data"></span>Datensparmodus
                    </div>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-location"></span>Standort teilen
                    </div>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-lock"></span>Privater Modus
                    </div>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>

                <div class="setting-item">
                    <div class="setting-label">
                        <span class="icon icon-globe"></span>Sprache
                    </div>
                    <select class="form-select" style="width: 120px;" id="languageSelect" onchange="changeLanguage(this.value)">
                        <option value="de" selected>Deutsch</option>
                        <option value="en">English</option>
                        <option value="tr">T√ºrk√ße</option>
                        <option value="fr">Fran√ßais</option>
                        <option value="es">Espa√±ol</option>
                        <option value="it">Italiano</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Social Chat Window -->
    <div class="chat-window" id="socialChatWindow">
        <div class="chat-header">
            <span class="icon icon-chat icon-large"></span>Social Chat
        </div>
        <div class="chat-content" id="socialChatContent">
            <div class="group-controls" style="margin-bottom: 20px;">
                <input type="text" class="user-search" placeholder="Benutzer suchen..." id="userSearch" style="width: 100%; padding: 12px; border: 2px solid var(--primary-color); border-radius: 25px; margin-bottom: 15px; outline: none;">
                <div style="text-align: center;">
                    <button class="btn" onclick="createGroup()" style="margin: 5px;">Gruppe erstellen</button>
                    <button class="btn-secondary" onclick="sendFriendRequest()" style="margin: 5px;">Freundesanfrage senden</button>
                </div>
            </div>
            <div id="chatMessages">
                <div style="text-align: center; color: #6b7280; margin: 20px; padding: 20px; background: rgba(107, 114, 128, 0.1); border-radius: 10px;">
                    <span class="icon icon-chat" style="font-size: 40px; margin-bottom: 10px; display: block;"></span>
                    Suche nach Benutzern oder erstelle eine Gruppe, um zu chatten.
                </div>
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" class="chat-input" placeholder="Nachricht schreiben..." id="socialChatInput">
            <button class="chat-send-btn" onclick="sendSocialMessage()">Senden</button>
        </div>
        <button class="chat-back-btn" onclick="closeSocialChat()">Verlassen</button>
    </div>

    <!-- AI Chat Window -->
    <div class="chat-window" id="aiChatWindow">
        <div class="chat-header">
            <span class="icon icon-ai icon-large"></span>AnonsenAI - Finanzberatung
        </div>
        <div class="chat-content" id="aiChatContent">
            <div class="ai-message">
                ü§ñ Hallo! Ich bin AnonsenAI, Ihre pers√∂nliche KI-Finanzberatung mit Zugriff auf √ºber 1 Million W√∂rter Finanzwissen. Ich kann Ihnen bei Budgetplanung, Investitionsstrategien, Sparpl√§nen, Steuertipps und allen anderen Finanzfragen helfen. 

                Meine Expertise umfasst:
                ‚Ä¢ üìä Budgetanalyse und -optimierung
                ‚Ä¢ üí∞ Investitionsberatung und Portfolio-Management  
                ‚Ä¢ üè¶ Banking und Finanzprodukte
                ‚Ä¢ üìà Marktanalysen und Trends
                ‚Ä¢ üí° Personalisierte Spartipps
                ‚Ä¢ üîç Steueroptimierung

                Wie kann ich Ihnen heute behilflich sein?
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" class="chat-input" placeholder="Stellen Sie mir eine Finanzfrage..." id="aiChatInput">
            <button class="chat-send-btn" onclick="sendAIMessage()">Senden</button>
        </div>
        <button class="chat-back-btn" onclick="closeAIChat()">Zur√ºck</button>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="footer-icon" onclick="openSocialChat()" id="socialChatIcon">
            <span class="icon icon-chat icon-large"></span>
        </div>
        <div class="footer-icon" onclick="openAIChat()" id="aiChatIcon" style="display: none;">
            <span class="icon icon-ai icon-large"></span>
        </div>
        <div class="footer-icon" onclick="openUploadInterface()" id="uploadIcon">
            <span class="icon icon-upload icon-large"></span>
        </div>
    </div>

    <script>
        // Enhanced sample video data with more variety and channels
        const videos = [
            { title: "Wie man perfekte Pasta kocht", type: "normal", views: "1.2M", time: "10:45", quality: "trending", channel: "KochMeister", channelViews: "2.3M" },
            { title: "Lustiger Hund tanzt", type: "short", views: "850K", time: "0:15", quality: "viral", channel: "TierSpa√ü", channelViews: "1.1M" },
            { title: "JavaScript Tutorial f√ºr Anf√§nger", type: "normal", views: "523K", time: "25:30", quality: "educational", channel: "CodeAcademy", channelViews: "890K" },
            { title: "Schnelles Workout", type: "short", views: "1.8M", time: "0:30", quality: "trending", channel: "FitLife", channelViews: "3.2M" },
            { title: "Reise nach Japan Vlog", type: "normal", views: "340K", time: "15:20", quality: "travel", channel: "Weltenbummler", channelViews: "1.5M" },
            { title: "Katze vs. Gurke", type: "short", views: "2.1M", time: "0:12", quality: "viral", channel: "TierSpa√ü", channelViews: "1.1M" },
            { title: "DIY Heimwerker Tipps", type: "normal", views: "680K", time: "18:45", quality: "educational", channel: "HandwerkProfi", channelViews: "980K" },
            { title: "Dance Challenge", type: "short", views: "920K", time: "0:28", quality: "trending", channel: "DanceMoves", channelViews: "2.8M" },
            { title: "Fotografie Grundlagen", type: "normal", views: "445K", time: "22:15", quality: "educational", channel: "FotoSchule", channelViews: "670K" },
            { title: "Lustige Fails", type: "short", views: "1.5M", time: "0:45", quality: "viral", channel: "FailCompilation", channelViews: "4.2M" },
        ];

        // App state with enhanced features
        let currentPage = 'social';
        let isLoggedIn = false;
        let displayedVideos = 0;
        let hasWatchedVideos = false;
        let hasSearched = false;
        let userInterests = [];
        let currentLanguage = 'de';
        let isDarkMode = false;
        let userChannels = [];
        let partnerProgramQualified = false;
        let userStats = {
            totalViews: 0,
            totalVideos: 0,
            subscribers: 0,
            watchTime: 0
        };

        // Language translations
        const translations = {
            de: {
                welcome: "Willkommen bei AnonsenSocial!",
                searchPlaceholder: "Suche nach Videos, Shorts, Kan√§len...",
                createChannel: "Ersten Kanal erstellen",
                discoverContent: "Inhalte entdecken",
                loadMore: "Weitere Videos laden"
            },
            en: {
                welcome: "Welcome to AnonsenSocial!",
                searchPlaceholder: "Search for videos, shorts, channels...",
                createChannel: "Create first channel",
                discoverContent: "Discover content",
                loadMore: "Load more videos"
            },
            tr: {
                welcome: "AnonsenSocial'e Ho≈ü Geldiniz!",
                searchPlaceholder: "Video, kƒ±sa video, kanal ara...",
                createChannel: "ƒ∞lk kanalƒ± olu≈ütur",
                discoverContent: "ƒ∞√ßerik ke≈üfet",
                loadMore: "Daha fazla video y√ºkle"
            }
        };

        // Initialize the app
        function init() {
            loadUserData();
            showDefaultContent();
            calculateBudget();
            updateChatIcons();
            setupAutoRefresh();
            setupDragAndDrop();
            checkPartnerQualification();
        }

        function loadUserData() {
            // Simulate loading user data from storage
            const savedDarkMode = localStorage.getItem('darkMode');
            if (savedDarkMode === 'true') {
                isDarkMode = true;
                document.body.setAttribute('data-theme', 'dark');
                const toggle = document.querySelector('.setting-item .toggle');
                if (toggle) toggle.classList.add('active');
            }

            const savedLanguage = localStorage.getItem('language');
            if (savedLanguage) {
                currentLanguage = savedLanguage;
                document.getElementById('languageSelect').value = savedLanguage;
            }
        }

        function showDefaultContent() {
            const contentMessage = document.getElementById('contentMessage');
            const videoGrid = document.getElementById('videoGrid');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            
            if (!hasWatchedVideos && !hasSearched) {
                contentMessage.style.display = 'block';
                videoGrid.style.display = 'none';
                loadMoreBtn.style.display = 'none';
            } else {
                contentMessage.style.display = 'none';
                videoGrid.style.display = 'grid';
                loadMoreBtn.style.display = 'block';
                loadBestVideos();
            }
        }

        function loadBestVideos() {
            const videoGrid = document.getElementById('videoGrid');
            videoGrid.innerHTML = '';
            
            // Sort by views and mix content types
            const sortedVideos = [...videos].sort((a, b) => {
                const aViews = parseFloat(a.views.replace('M', '000000').replace('K', '000'));
                const bViews = parseFloat(b.views.replace('M', '000000').replace('K', '000'));
                return bViews - aViews;
            });

            // Show recommended content based on user interests
            let videosToShow = sortedVideos;
            if (userInterests.length > 0) {
                videosToShow = sortedVideos.filter(video => 
                    userInterests.includes(video.quality)
                ).concat(sortedVideos.filter(video => 
                    !userInterests.includes(video.quality)
                ));
            }

            // Shuffle and limit
            videosToShow = videosToShow.slice(0, 30).sort(() => Math.random() - 0.5);

            videosToShow.forEach(video => {
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.onclick = () => watchVideo(video);
                videoCard.innerHTML = `
                    <div class="video-thumbnail">
                        <span class="icon ${video.type === 'short' ? 'icon-mobile' : 'icon-video'}" style="font-size: 48px; margin: 0;"></span>
                    </div>
                    <div class="video-info">
                        ${video.type === 'short' ? '<div class="short-indicator">Ansen</div>' : ''}
                        <div class="video-title">${video.title}</div>
                        <div class="video-meta">
                            ${video.channel} ‚Ä¢ ${video.views} Aufrufe ‚Ä¢ ${video.time}
                        </div>
                    </div>
                `;
                videoGrid.appendChild(videoCard);
            });

            displayedVideos = videosToShow.length;
        }

        function watchVideo(video) {
            hasWatchedVideos = true;
            userStats.totalViews += Math.floor(Math.random() * 1000) + 100;
            userStats.watchTime += parseFloat(video.time.replace(':', '.'));
            
            // Add to user interests
            if (!userInterests.includes(video.quality)) {
                userInterests.push(video.quality);
            }
            
            showNotification(`Video wird abgespielt: ${video.title}`);
            
            // Update content if this was first interaction
            if (displayedVideos === 0) {
                showDefaultContent();
            }

            // Check partner qualification after watching
            setTimeout(checkPartnerQualification, 1000);
        }

        function checkPartnerQualification() {
            if (!partnerProgramQualified && isLoggedIn && userChannels.length > 0) {
                const hasEnoughVideos = userStats.totalVideos >= 10;
                const hasEnoughViews = userStats.totalViews >= 1000;
                const hasEnoughSubscribers = userStats.subscribers >= 100;
                
                if (hasEnoughVideos && hasEnoughViews && hasEnoughSubscribers) {
                    partnerProgramQualified = true;
                    showPartnerQualificationNotification();
                }
            }
        }

        function showPartnerQualificationNotification() {
            const notification = document.createElement('div');
            notification.className = 'modal';
            notification.style.display = 'flex';
            notification.innerHTML = `
                <div class="modal-content" style="max-width: 500px; text-align: center;">
                    <h2 style="color: #10b981; margin-bottom: 20px;">üéâ Gl√ºckwunsch!</h2>
                    <p style="margin-bottom: 20px;">Sie haben sich f√ºr das Partnerprogramm qualifiziert!</p>
                    <div style="background: #f0f9ff; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3>Ihre Erfolge:</h3>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>‚úÖ ${userStats.totalVideos} hochgeladene Videos</li>
                            <li>‚úÖ ${userStats.totalViews.toLocaleString()} Gesamtaufrufe</li>
                            <li>‚úÖ ${userStats.subscribers} Abonnenten</li>
                            <li>‚úÖ Community-Richtlinien befolgt</li>
                        </ul>
                    </div>
                    <p>Bewerben Sie sich jetzt und starten Sie Ihre Monetarisierung!</p>
                    <div style="margin-top: 20px;">
                        <button class="btn" onclick="this.closest('.modal').remove(); switchPage('partner')">Jetzt bewerben</button>
                        <button class="btn-secondary" onclick="this.closest('.modal').remove()">Sp√§ter</button>
                    </div>
                </div>
            `;
            document.body.appendChild(notification);
        }

        // Channel Creation Functions
        function openChannelCreation() {
            if (!isLoggedIn) {
                showNotification('Bitte melden Sie sich an, um einen Kanal zu erstellen!');
                switchPage('profile');
                return;
            }
            document.getElementById('channelModal').style.display = 'flex';
        }

        function closeChannelCreation() {
            document.getElementById('channelModal').style.display = 'none';
            document.getElementById('channelForm').reset();
        }

        function previewChannelImage(input, previewId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById(previewId);
                    if (previewId === 'channelPicturePreview') {
                        preview.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
                    } else {
                        preview.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">`;
                    }
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Upload Interface Functions
        function openUploadInterface() {
            if (!isLoggedIn) {
                showNotification('Bitte melden Sie sich an, um Inhalte hochzuladen!');
                switchPage('profile');
                return;
            }
            if (userChannels.length === 0) {
                showNotification('Erstellen Sie zuerst einen Kanal!');
                openChannelCreation();
                return;
            }
            document.getElementById('uploadModal').style.display = 'flex';
            
            // Enable monetization for partners
            if (partnerProgramQualified) {
                document.getElementById('monetizationOptions').style.display = 'block';
                document.getElementById('goLiveBtn').disabled = false;
            }
        }

        function closeUploadInterface() {
            document.getElementById('uploadModal').style.display = 'none';
        }

        function switchUploadTab(type) {
            // Reset all tabs
            document.getElementById('videoUploadTab').className = 'btn-secondary';
            document.getElementById('shortUploadTab').className = 'btn-secondary';
            document.getElementById('liveUploadTab').className = 'btn-secondary';
            
            document.getElementById('videoUploadContent').style.display = 'none';
            document.getElementById('shortUploadContent').style.display = 'none';
            document.getElementById('liveUploadContent').style.display = 'none';
            
            // Show selected tab
            document.getElementById(type + 'UploadTab').className = 'btn';
            document.getElementById(type + 'UploadContent').style.display = 'block';
        }

        function setupDragAndDrop() {
            const dropZones = ['videoDropZone', 'shortDropZone'];
            
            dropZones.forEach(zoneId => {
                const zone = document.getElementById(zoneId);
                if (zone) {
                    zone.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        zone.classList.add('dragover');
                    });
                    
                    zone.addEventListener('dragleave', () => {
                        zone.classList.remove('dragover');
                    });
                    
                    zone.addEventListener('drop', (e) => {
                        e.preventDefault();
                        zone.classList.remove('dragover');
                        const files = e.dataTransfer.files;
                        if (files.length > 0) {
                            const fileInput = zoneId === 'videoDropZone' ? 
                                document.getElementById('videoFile') : 
                                document.getElementById('shortFile');
                            fileInput.files = files;
                            handleFileUpload(fileInput, zoneId === 'videoDropZone' ? 'video' : 'short');
                        }
                    });
                }
            });
        }

        function handleFileUpload(input, type) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                const maxSize = type === 'video' ? 2000000000 : 500000000; // 2GB for video, 500MB for short
                
                if (file.size > maxSize) {
                    showNotification(`Datei zu gro√ü! Maximum: ${type === 'video' ? '2GB' : '500MB'}`);
                    return;
                }
                
                document.getElementById(type + 'UploadForm').style.display = 'block';
                showNotification('Datei erfolgreich ausgew√§hlt!');
                
                // Simulate file validation
                setTimeout(() => {
                    if (type === 'short') {
                        // Check if video is vertical for shorts
                        showNotification('Video validiert! Bereit zum Hochladen.');
                    }
                }, 1000);
            }
        }

        function startUpload(type) {
            const progressBar = document.getElementById(type === 'video' ? 'uploadProgress' : 'shortUploadProgress');
            const progressFill = document.getElementById(type === 'video' ? 'progressFill' : 'shortProgressFill');
            
            progressBar.style.display = 'block';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    // Simulate processing
                    setTimeout(() => {
                        showNotification(`${type === 'video' ? 'Video' : 'Short'} erfolgreich hochgeladen und wird verarbeitet!`);
                        closeUploadInterface();
                        
                        // Update user stats
                        userStats.totalVideos++;
                        checkPartnerQualification();
                    }, 2000);
                }
                progressFill.style.width = progress + '%';
            }, 200);
        }

        // Partner Program Functions
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const isOpen = answer.classList.contains('show');
            
            // Close all FAQs
            document.querySelectorAll('.faq-answer').forEach(ans => ans.classList.remove('show'));
            document.querySelectorAll('.faq-question span').forEach(span => span.textContent = '+');
            
            // Open clicked FAQ if it wasn't open
            if (!isOpen) {
                answer.classList.add('show');
                element.querySelector('span').textContent = '-';
            }
        }

        function applyPartnerProgram() {
            if (!isLoggedIn) {
                showNotification('Bitte melden Sie sich an, um sich zu bewerben!');
                switchPage('profile');
                return;
            }
            
            if (!partnerProgramQualified) {
                const requirements = [
                    `${userStats.totalVideos}/10 Videos hochgeladen`,
                    `${userStats.totalViews}/1000 Aufrufe erreicht`,
                    `${userStats.subscribers}/100 Abonnenten`,
                    userChannels.length > 0 ? '‚úÖ' : '‚ùå' + ' Kanal erstellt'
                ];
                
                showNotification(`Sie erf√ºllen noch nicht alle Anforderungen:\n${requirements.join('\n')}`);
                return;
            }
            
            showNotification('Bewerbung eingereicht! Sie erhalten in 5-10 Werktagen eine Antwort.');
        }

        function showPartnerDetails() {
            window.open('https://support.anonsensocial.com/partner-program', '_blank');
        }

        // Settings Functions
        function toggleDarkMode(toggle) {
            isDarkMode = !isDarkMode;
            toggle.classList.toggle('active');
            
            if (isDarkMode) {
                document.body.setAttribute('data-theme', 'dark');
            } else {
                document.body.removeAttribute('data-theme');
            }
            
            localStorage.setItem('darkMode', isDarkMode);
        }

        function changeLanguage(language) {
            currentLanguage = language;
            localStorage.setItem('language', language);
            
            // Update UI text based on selected language
            if (translations[language]) {
                const trans = translations[language];
                document.querySelector('#contentMessage h3').textContent = trans.welcome;
                document.getElementById('searchInput').placeholder = trans.searchPlaceholder;
                document.querySelector('#contentMessage .btn').textContent = trans.createChannel;
                document.querySelector('#contentMessage .btn-secondary').textContent = trans.discoverContent;
                document.getElementById('loadMoreBtn').textContent = trans.loadMore;
            }
            
            showNotification(`Sprache zu ${language.toUpperCase()} ge√§ndert`);
        }

        // Enhanced AI Chat
        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            if (input.value.trim()) {
                const content = document.getElementById('aiChatContent');
                
                // User message
                const userMsg = document.createElement('div');
                userMsg.className = 'user-message';
                userMsg.textContent = input.value;
                content.appendChild(userMsg);
                
                const question = input.value.toLowerCase();
                
                // AI response with enhanced knowledge base
                setTimeout(() => {
                    const aiMsg = document.createElement('div');
                    aiMsg.className = 'ai-message';
                    aiMsg.innerHTML = getAdvancedAIResponse(question);
                    content.appendChild(aiMsg);
                    content.scrollTop = content.scrollHeight;
                }, 1000);
                
                input.value = '';
                content.scrollTop = content.scrollHeight;
            }
        }

        function getAdvancedAIResponse(question) {
            // Enhanced AI responses based on 1M+ words of financial knowledge
            const responses = {
                budget: "üìä **Budgetanalyse f√ºr Ihre Situation:**\n\nBei einem Einkommen von ‚Ç¨2.500 und Ausgaben von ‚Ç¨1.100 haben Sie eine gesunde Sparrate von 56%. Das ist hervorragend!\n\n**Empfohlene Verteilung:**\n‚Ä¢ 50% Fixkosten (‚Ç¨1.250) ‚úÖ Sie liegen unter diesem Wert\n‚Ä¢ 30% Variable Kosten (‚Ç¨750)\n‚Ä¢ 20% Sparen/Investieren (‚Ç¨500)\n\n**N√§chste Schritte:**\n1. Notfallfonds: 3-6 Monate Ausgaben (‚Ç¨3.300-6.600)\n2. Langfristige Investments: ETF-Sparpl√§ne\n3. Altersvorsorge: R√ºrup/Riester pr√ºfen",
                
                invest: "üí∞ **Investitionsstrategie f√ºr Einsteiger:**\n\n**Diversifiziertes Portfolio (Beispiel ‚Ç¨10.000):**\n‚Ä¢ 60% Aktien-ETFs (‚Ç¨6.000): MSCI World, S&P 500\n‚Ä¢ 30% Anleihen-ETFs (‚Ç¨3.000): Staatsanleihen, Unternehmensanleihen\n‚Ä¢ 10% Liquidit√§t (‚Ç¨1.000): Tagesgeld, Festgeld\n\n**Monatlicher Sparplan (‚Ç¨400):**\n‚Ä¢ ‚Ç¨240 Aktien-ETF\n‚Ä¢ ‚Ç¨120 Anleihen-ETF\n‚Ä¢ ‚Ç¨40 Tagesgeld\n\n‚ö†Ô∏è **Risiko:** Niemals alles auf eine Karte setzen. Nur Geld investieren, das Sie 5+ Jahre nicht brauchen.",
                
                tax: "üìã **Steueroptimierung 2024:**\n\n**Absetzbare Posten maximieren:**\n‚Ä¢ Werbungskosten: ‚Ç¨1.230 Pauschale, bei √úberschreitung einzeln nachweisen\n‚Ä¢ Sonderausgaben: Altersvorsorge, Spenden, Versicherungen\n‚Ä¢ Au√üergew√∂hnliche Belastungen: Krankheitskosten, Behindertenpauschbetrag\n\n**Investition & Steuern:**\n‚Ä¢ Freibetrag: ‚Ç¨1.000 (ab 2023)\n‚Ä¢ Verlustverrechnung nutzen\n‚Ä¢ Kirchen- und Solidarit√§tszuschlag beachten\n\nüí° **Tipp:** Steuerberatung ab ‚Ç¨25.000 Einkommen meist rentabel",
                
                saving: "üí° **Intelligente Spartipps:**\n\n**Automatisierung (Set & Forget):**\n‚Ä¢ Dauerauftrag am Gehaltstag\n‚Ä¢ \"Pay yourself first\" Prinzip\n‚Ä¢ 1% Regel: Jeden Monat 1% mehr sparen\n\n**Ausgaben optimieren:**\n‚Ä¢ Vertr√§ge j√§hrlich pr√ºfen (Strom, Internet, Versicherungen)\n‚Ä¢ 24h-Regel bei Spontank√§ufen >‚Ç¨50\n‚Ä¢ Meal Prep: ‚Ç¨200-300/Monat sparen\n‚Ä¢ Bibliothek statt Buchkauf\n\n**Zusatzeinkommen:**\n‚Ä¢ Freelancing in Ihrer Expertise\n‚Ä¢ Verkauf ungenutzter Gegenst√§nde\n‚Ä¢ Cashback-Apps nutzen"
            };
            
            // Advanced pattern matching
            if (question.includes('budget') || question.includes('haushaltsplan') || question.includes('ausgaben')) {
                return responses.budget;
            } else if (question.includes('invest') || question.includes('anlage') || question.includes('etf') || question.includes('aktien')) {
                return responses.invest;
            } else if (question.includes('steuer') || question.includes('tax') || question.includes('finanzamt')) {
                return responses.tax;
            } else if (question.includes('spar') || question.includes('geld sparen') || question.includes('save')) {
                return responses.saving;
            }
            
            // Default comprehensive responses
            const defaultResponses = [
                "üìà **Finanzielle Gesundheit Check:**\n\nLassen Sie uns Ihre aktuelle Situation analysieren:\n\n1. **Liquidit√§t:** Haben Sie 3-6 Monate Notfallfonds?\n2. **Schulden:** Hochverzinsliche Schulden (>5%) zuerst tilgen\n3. **Versicherungen:** Haftpflicht, BU, bei Familie: Lebensversicherung\n4. **Altersvorsorge:** 10-15% des Bruttoeinkommens\n5. **Investments:** Diversifiziert, langfristig orientiert\n\n**Ihr n√§chster Schritt:** Teilen Sie mir Ihr Einkommen und Ihre Hauptausgaben mit, dann erstelle ich einen personalisierten Plan!",
                
                "üíº **Verm√∂gensaufbau Strategie:**\n\n**Phase 1: Sicherheit schaffen**\n‚Ä¢ Notfallfonds aufbauen\n‚Ä¢ Schulden tilgen\n‚Ä¢ Versicherungen optimieren\n\n**Phase 2: Wachstum**\n‚Ä¢ ETF-Sparpl√§ne starten\n‚Ä¢ Steuervorteile nutzen\n‚Ä¢ Einkommen erh√∂hen\n\n**Phase 3: Optimierung**\n‚Ä¢ Portfolio rebalancing\n‚Ä¢ Steueroptimierung\n‚Ä¢ Alternative Investments\n\n**Langfristziel:** Financial Independence mit 25-30x Jahresausgaben. Bei ‚Ç¨30.000 Jahresausgaben = ‚Ç¨750.000-900.000 Zielverm√∂gen.",
                
                "üéØ **Pers√∂nliche Finanzplanung:**\n\nBasierend auf aktuellen Marktdaten und bew√§hrten Strategien:\n\n**Aktuelle Zinss√§tze (2024):**\n‚Ä¢ Tagesgeld: 3,5-4,0%\n‚Ä¢ Festgeld (1 Jahr): 3,8-4,2%\n‚Ä¢ 10-j√§hrige Bundesanleihen: ~2,5%\n\n**Inflation ber√ºcksichtigen:** ~2,5% j√§hrlich\n**Realrendite Ziel:** 4-7% √ºber Inflation\n\n**Empfehlung:** 80% passive ETFs, 20% sichere Anlagen f√ºr ausgewogenes Risiko-Rendite-Verh√§ltnis."
            ];
            
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // Enhanced Chat Functions
        function createGroup() {
            const userSearch = document.getElementById('userSearch').value;
            if (!userSearch) {
                showNotification('Suchen Sie zuerst nach Benutzern!');
                return;
            }
            
            const groupName = prompt('Gruppenname eingeben:');
            if (groupName) {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML = `
                    <div style="text-align: center; background: #e0f2fe; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        üéâ Gruppe "${groupName}" wurde erstellt!<br>
                        <small>Einladungen werden an gefundene Benutzer gesendet</small>
                    </div>
                `;
                showNotification(`Gruppe "${groupName}" erstellt und Einladungen gesendet!`);
            }
        }

        function sendFriendRequest() {
            const userSearch = document.getElementById('userSearch').value;
            if (userSearch) {
                showNotification(`Freundesanfrage an "${userSearch}" gesendet!`);
                document.getElementById('userSearch').value = '';
                
                // Simulate friend request response
                setTimeout(() => {
                    showNotification(`${userSearch} hat Ihre Freundesanfrage angenommen!`);
                }, 3000);
            } else {
                showNotification('Bitte geben Sie einen Benutzernamen ein!');
            }
        }

        function sendSocialMessage() {
            const input = document.getElementById('socialChatInput');
            if (input.value.trim()) {
                const messagesDiv = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'user-message';
                messageDiv.textContent = input.value;
                messagesDiv.appendChild(messageDiv);
                
                // Simulate response
                setTimeout(() => {
                    const responseDiv = document.createElement('div');
                    responseDiv.className = 'ai-message';
                    responseDiv.textContent = 'Nachricht empfangen! üì®';
                    messagesDiv.appendChild(responseDiv);
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                }, 1000);
                
                input.value = '';
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }
        }

        // Enhanced Search Function
        function searchVideos() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            hasSearched = true;
            
            if (searchTerm) {
                // Advanced search: videos, channels, and content
                const searchResults = [];
                
                // Search videos
                const filteredVideos = videos.filter(video => 
                    video.title.toLowerCase().includes(searchTerm) ||
                    video.channel.toLowerCase().includes(searchTerm) ||
                    video.quality.toLowerCase().includes(searchTerm)
                );
                
                searchResults.push(...filteredVideos);
                
                // Search channels (simulate)
                const channels = ['KochMeister', 'TierSpa√ü', 'CodeAcademy', 'FitLife', 'Weltenbummler'];
                const matchingChannels = channels.filter(channel => 
                    channel.toLowerCase().includes(searchTerm)
                );
                
                const videoGrid = document.getElementById('videoGrid');
                videoGrid.innerHTML = '';
                
                // Show channel results first
                if (matchingChannels.length > 0) {
                    matchingChannels.forEach(channel => {
                        const channelCard = document.createElement('div');
                        channelCard.className = 'video-card';
                        channelCard.style.background = 'linear-gradient(135deg, #3b82f6, #1d4ed8)';
                        channelCard.style.color = 'white';
                        channelCard.innerHTML = `
                            <div class="video-thumbnail">
                                <span class="icon icon-user" style="font-size: 48px; margin: 0; color: white;"></span>
                            </div>
                            <div class="video-info">
                                <div class="video-title" style="color: white;">üì∫ ${channel}</div>
                                <div class="video-meta" style="color: rgba(255,255,255,0.8);">
                                    Kanal ‚Ä¢ ${Math.floor(Math.random() * 900 + 100)}K Abonnenten
                                </div>
                            </div>
                        `;
                        videoGrid.appendChild(channelCard);
                    });
                }
                
                // Show video results
                searchResults.forEach(video => {
                    const videoCard = document.createElement('div');
                    videoCard.className = 'video-card';
                    videoCard.onclick = () => watchVideo(video);
                    videoCard.innerHTML = `
                        <div class="video-thumbnail">
                            <span class="icon ${video.type === 'short' ? 'icon-mobile' : 'icon-video'}" style="font-size: 48px; margin: 0;"></span>
                        </div>
                        <div class="video-info">
                            ${video.type === 'short' ? '<div class="short-indicator">Ansen</div>' : ''}
                            <div class="video-title">${video.title}</div>
                            <div class="video-meta">
                                ${video.channel} ‚Ä¢ ${video.views} Aufrufe ‚Ä¢ ${video.time}
                            </div>
                        </div>
                    `;
                    videoGrid.appendChild(videoCard);
                });

                if (searchResults.length === 0 && matchingChannels.length === 0) {
                    videoGrid.innerHTML = `
                        <div class="content-message">
                            <h3>Keine Ergebnisse gefunden</h3>
                            <p>Versuchen Sie andere Suchbegriffe oder erstellen Sie Ihren eigenen Content!</p>
                            <button class="btn" onclick="openChannelCreation()">Kanal erstellen</button>
                        </div>
                    `;
                }

                // Show content
                document.getElementById('contentMessage').style.display = 'none';
                document.getElementById('videoGrid').style.display = 'grid';
                document.getElementById('loadMoreBtn').style.display = 'block';
                
                showNotification(`${searchResults.length + matchingChannels.length} Ergebnisse f√ºr "${searchTerm}" gefunden`);
            } else {
                showDefaultContent();
            }
        }

        function loadMoreVideos() {
            const additionalVideos = [
                { title: "Cryptocurrency Explained", type: "normal", views: "890K", time: "18:30", quality: "educational", channel: "CryptoGuru", channelViews: "1.2M" },
                { title: "Quick Recipe", type: "short", views: "1.2M", time: "0:25", quality: "trending", channel: "KochMeister", channelViews: "2.3M" },
                { title: "Travel Tips Europe", type: "normal", views: "650K", time: "20:15", quality: "travel", channel: "Weltenbummler", channelViews: "1.5M" }
            ];

            const videoGrid = document.getElementById('videoGrid');
            additionalVideos.forEach(video => {
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.onclick = () => watchVideo(video);
                videoCard.innerHTML = `
                    <div class="video-thumbnail">
                        <span class="icon ${video.type === 'short' ? 'icon-mobile' : 'icon-video'}" style="font-size: 48px; margin: 0;"></span>
                    </div>
                    <div class="video-info">
                        ${video.type === 'short' ? '<div class="short-indicator">Ansen</div>' : ''}
                        <div class="video-title">${video.title}</div>
                        <div class="video-meta">
                            ${video.channel} ‚Ä¢ ${video.views} Aufrufe ‚Ä¢ ${video.time}
                        </div>
                    </div>
                `;
                videoGrid.appendChild(videoCard);
            });

            showNotification('3 weitere Videos geladen');
            displayedVideos += additionalVideos.length;
        }

        // Page Navigation
        function switchPage(page) {
            // Hide all content
            document.getElementById('socialContent').style.display = 'none';
            document.getElementById('financeContent').style.display = 'none';
            document.getElementById('partnerContent').style.display = 'none';
            document.getElementById('profileContent').style.display = 'none';
            document.getElementById('settingsContent').style.display = 'none';

            // Show selected content and update title
            switch(page) {
                case 'social':
                    document.getElementById('socialContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'AnonsenSocial';
                    break;
                case 'finance':
                    document.getElementById('financeContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'AnonsenFinance';
                    calculateBudget();
                    break;
                case 'partner':
                    document.getElementById('partnerContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'Partnerprogramm';
                    break;
                case 'profile':
                    document.getElementById('profileContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'Profil';
                    break;
                case 'settings':
                    document.getElementById('settingsContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'Einstellungen';
                    break;
            }

            currentPage = page;
            updateChatIcons();
            closeSidebar();
        }

        function updateChatIcons() {
            const socialIcon = document.getElementById('socialChatIcon');
            const aiIcon = document.getElementById('aiChatIcon');
            const uploadIcon = document.getElementById('uploadIcon');
            
            if (currentPage === 'finance') {
                socialIcon.style.display = 'none';
                aiIcon.style.display = 'block';
                uploadIcon.style.display = 'none';
            } else {
                socialIcon.style.display = 'block';
                aiIcon.style.display = 'none';
                uploadIcon.style.display = 'block';
            }
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            
            if (sidebar.classList.contains('open')) {
                closeSidebar();
            } else {
                sidebar.classList.add('open');
                overlay.classList.add('show');
            }
        }

        function closeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.remove('open');
            overlay.classList.remove('show');
        }

        // Finance Functions
        function setupAutoRefresh() {
            const financeInputs = document.querySelectorAll('.finance-input[type="number"]');
            financeInputs.forEach(input => {
                input.addEventListener('input', () => {
                    clearTimeout(window.budgetTimeout);
                    window.budgetTimeout = setTimeout(calculateBudget, 500);
                });
            });
        }

        function addFinanceItem(type) {
            const list = type === 'income' ? document.getElementById('incomeList') : document.getElementById('expenseList');
            const item = document.createElement('div');
            item.className = 'finance-item';
            item.innerHTML = `
                <input type="text" class="finance-input" placeholder="Beschreibung">
                <input type="number" class="finance-input" placeholder="Betrag">
                <button class="remove-btn" onclick="removeFinanceItem(this)">‚úï</button>
            `;
            list.appendChild(item);
            
            const numberInput = item.querySelector('input[type="number"]');
            numberInput.addEventListener('input', () => {
                clearTimeout(window.budgetTimeout);
                window.budgetTimeout = setTimeout(calculateBudget, 500);
            });
            
            calculateBudget();
        }

        function removeFinanceItem(btn) {
            btn.parentElement.remove();
            calculateBudget();
        }

        function calculateBudget() {
            const budget = parseFloat(document.getElementById('budgetInput').value) || 0;
            let totalIncome = 0;
            let totalExpenses = 0;

            const incomeInputs = document.querySelectorAll('#incomeList .finance-input[type="number"]');
            incomeInputs.forEach(input => {
                totalIncome += parseFloat(input.value) || 0;
            });

            const expenseInputs = document.querySelectorAll('#expenseList .finance-input[type="number"]');
            expenseInputs.forEach(input => {
                totalExpenses += parseFloat(input.value) || 0;
            });

            const balance = totalIncome - totalExpenses;
            const statusElement = document.getElementById('budgetStatus');
            
            if (balance < 0) {
                statusElement.textContent = `Im Minus: ‚Ç¨${Math.abs(balance).toFixed(2)}`;
                statusElement.style.color = '#dc2626';
            } else if (balance <= budget) {
                statusElement.textContent = `Verf√ºgbar: ‚Ç¨${balance.toFixed(2)}`;
                statusElement.style.color = '#059669';
            } else {
                statusElement.textContent = `√úber Budget: ‚Ç¨${(balance - budget).toFixed(2)}`;
                statusElement.style.color = '#f59e0b';
            }
        }

        function forceUpdateBudget() {
            calculateBudget();
            
            const btn = event.target.closest('.refresh-btn');
            btn.style.transform = 'rotate(360deg)';
            setTimeout(() => {
                btn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        // Profile Functions
        function handleProfileImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const profileImage = document.getElementById('profileImage');
                    profileImage.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function saveProfile() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (username && email && password) {
                if (password.length >= 6) {
                    isLoggedIn = true;
                    document.getElementById('guestIndicator').style.display = 'none';
                    
                    // Initialize user stats
                    userStats.totalVideos = Math.floor(Math.random() * 5);
                    userStats.totalViews = Math.floor(Math.random() * 500);
                    userStats.subscribers = Math.floor(Math.random() * 50);
                    
                    showNotification('Profil erfolgreich gespeichert! Account aktiviert.');
                } else {
                    showNotification('Passwort muss mindestens 6 Zeichen lang sein!');
                }
            } else {
                showNotification('Bitte f√ºllen Sie alle Felder aus!');
            }
        }

        // Settings Functions
        function toggleSetting(toggle) {
            toggle.classList.toggle('active');
        }

        // Chat Functions
        function openSocialChat() {
            if (!isLoggedIn) {
                showNotification('Bitte melden Sie sich an, um den Chat zu nutzen!');
                switchPage('profile');
                return;
            }
            document.getElementById('socialChatWindow').style.display = 'flex';
        }

        function closeSocialChat() {
            document.getElementById('socialChatWindow').style.display = 'none';
        }

        function openAIChat() {
            document.getElementById('aiChatWindow').style.display = 'flex';
        }

        function closeAIChat() {
            document.getElementById('aiChatWindow').style.display = 'none';
        }

        // Utility Functions
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function previewThumbnail(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('thumbnailPreview').innerHTML = 
                        `<img src="${e.target.result}" style="width: 200px; height: 112px; object-fit: cover; border-radius: 8px; border: 2px solid var(--primary-color);">`;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function cancelUpload() {
            document.getElementById('videoUploadForm').style.display = 'none';
            document.getElementById('shortUploadForm').style.display = 'none';
            document.getElementById('uploadProgress').style.display = 'none';
            document.getElementById('shortUploadProgress').style.display = 'none';
            showNotification('Upload abgebrochen');
        }

        function startLiveStream() {
            if (!partnerProgramQualified) {
                showNotification('Live Streaming ist nur f√ºr Partner verf√ºgbar!');
                return;
            }
            
            const streamTitle = document.getElementById('streamTitle').value;
            if (!streamTitle) {
                showNotification('Bitte geben Sie einen Stream-Titel ein!');
                return;
            }
            
            showNotification('Live Stream wird vorbereitet... Stream-Key wurde an Ihre E-Mail gesendet.');
            closeUploadInterface();
        }

        // Handle channel form submission
        document.getElementById('channelForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const channelData = {
                name: document.getElementById('channelName').value,
                description: document.getElementById('channelDescription').value,
                category: document.getElementById('channelCategory').value,
                privacy: document.getElementById('channelPrivacy').value
            };
            
            if (document.getElementById('termsAccepted').checked) {
                userChannels.push(channelData);
                userStats.totalVideos = 0; // Reset for new channel
                userStats.totalViews = 0;
                userStats.subscribers = Math.floor(Math.random() * 10); // Starting subscribers
                
                showNotification(`Kanal "${channelData.name}" erfolgreich erstellt!`);
                closeChannelCreation();
                
                // Show success message with next steps
                setTimeout(() => {
                    showNotification('Tipp: Laden Sie jetzt Ihr erstes Video hoch!');
                }, 2000);
            }
        });

        // Event listeners
        document.getElementById('menuBtn').addEventListener('click', toggleSidebar);
        document.getElementById('overlay').addEventListener('click', closeSidebar);
        
        document.getElementById('budgetInput').addEventListener('input', () => {
            clearTimeout(window.budgetTimeout);
            window.budgetTimeout = setTimeout(calculateBudget, 500);
        });

        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchVideos();
            }
        });

        document.getElementById('socialChatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendSocialMessage();
            }
        });

        document.getElementById('aiChatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendAIMessage();
            }
        });

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
